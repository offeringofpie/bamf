!function(e){function t(t){for(var n,i,a=t[0],c=t[1],l=t[2],u=0,p=[];u<a.length;u++)i=a[u],r[i]&&p.push(r[i][0]),r[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);for(d&&d(t);p.length;)p.shift()();return o.push.apply(o,l||[]),s()}function s(){for(var e,t=0;t<o.length;t++){for(var s=o[t],n=!0,a=1;a<s.length;a++){var c=s[a];0!==r[c]&&(n=!1)}n&&(o.splice(t--,1),e=i(i.s=s[0]))}return e}var n={},r={0:0},o=[];function i(t){if(n[t])return n[t].exports;var s=n[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=n,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(s,n,function(t){return e[t]}.bind(null,n));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var a=window.webpackJsonp=window.webpackJsonp||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var d=c;o.push(["./src/main.js",1]),s()}({"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/index.js?!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js!./src/components/Carousel/styles.css?vue&type=style&index=0&id=4b01ec13&scoped=true&lang=css&":function(e,t,s){},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/index.js?!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js!./src/components/Dropzone/styles.css?vue&type=style&index=0&id=0248200e&scoped=true&lang=css&":function(e,t,s){},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/index.js?!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js!./src/components/Footer/styles.css?vue&type=style&index=0&id=30c2788e&scoped=true&lang=css&":function(e,t,s){},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/index.js?!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js!./src/components/Reader/styles.css?vue&type=style&index=0&lang=css&":function(e,t,s){},"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/index.js?!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js!./src/components/Toast/index.css?vue&type=style&index=0&id=e378782c&scoped=true&lang=css&":function(e,t,s){},"./src/components/Carousel/styles.css?vue&type=style&index=0&id=4b01ec13&scoped=true&lang=css&":function(e,t,s){"use strict";var n=s("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/index.js?!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js!./src/components/Carousel/styles.css?vue&type=style&index=0&id=4b01ec13&scoped=true&lang=css&");s.n(n).a},"./src/components/Dropzone/styles.css?vue&type=style&index=0&id=0248200e&scoped=true&lang=css&":function(e,t,s){"use strict";var n=s("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/index.js?!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js!./src/components/Dropzone/styles.css?vue&type=style&index=0&id=0248200e&scoped=true&lang=css&");s.n(n).a},"./src/components/Footer/styles.css?vue&type=style&index=0&id=30c2788e&scoped=true&lang=css&":function(e,t,s){"use strict";var n=s("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/index.js?!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js!./src/components/Footer/styles.css?vue&type=style&index=0&id=30c2788e&scoped=true&lang=css&");s.n(n).a},"./src/components/Reader/styles.css?vue&type=style&index=0&lang=css&":function(e,t,s){"use strict";var n=s("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/index.js?!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js!./src/components/Reader/styles.css?vue&type=style&index=0&lang=css&");s.n(n).a},"./src/components/Toast/index.css?vue&type=style&index=0&id=e378782c&scoped=true&lang=css&":function(e,t,s){"use strict";var n=s("./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/index.js?!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js!./src/components/Toast/index.css?vue&type=style&index=0&id=e378782c&scoped=true&lang=css&");s.n(n).a},"./src/css/master.css":function(e,t,s){},"./src/main.js":function(e,t,s){"use strict";s.r(t);var n=s("./node_modules/vue/dist/vue.runtime.esm.js"),r=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)};r._withStripped=!0;var o={name:"App"},i=s("../../node_modules/vue-loader/lib/runtime/componentNormalizer.js"),a=Object(i.a)(o,r,[],!1,null,null,null);a.options.__file="src/App.vue";var c=a.exports,l=s("../../node_modules/vue-router/dist/vue-router.esm.js"),d=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:{active:1==e.dragging},attrs:{id:"dropzone"},on:{drop:function(t){return t.preventDefault(),e.onDrop(t)},dragenter:e.onDragEnter,dragover:e.onDragOver,dragleave:e.onDragLeave}},[e.src?s("image-elem",{attrs:{src:e.src}}):e._e(),e._v(" "),e.dropped?e._e():s("input",{ref:"fileElem",attrs:{type:"file",id:"file",name:"file"},on:{change:e.onDrop}}),e._v(" "),e.dropped?e._e():s("label",{attrs:{for:"file"}},[e._v("To open a comic book file,"),s("br"),e._v("click anywere on the page,"),s("br"),e._v("or drop it anywere on the page.")])],1)};function u(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}d._withStripped=!0;var p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.reader=new FileReader}return function(e,t,s){t&&u(e.prototype,t),s&&u(e,s)}(e,[{key:"_compareFileNames",value:function(e,t){var s=[],n=[];for(e.replace(/(\d+)|(\D+)/g,function(e,t,n){s.push([t||1/0,n||""])}),t.replace(/(\d+)|(\D+)/g,function(e,t,s){n.push([t||1/0,s||""])});s.length&&n.length;){var r=s.shift(),o=n.shift(),i=r[0]-o[0]||r[1].localeCompare(o[1]);if(i)return i}return s.length+n.length}},{key:"_zip",value:function(e,t){var n=this;Promise.resolve().then(s.t.bind(null,"./node_modules/jszip/dist/jszip.min.js",7)).then(function(s){s.loadAsync(e).then(function(e){var t=/^(?:(?!__macosx)).*(.jpg|.png|.gif|.jpeg)$/,s=Object.keys(e.files).sort(n._compareFileNames).filter(function(e){return t.test(e.toLowerCase())}).map(function(t,s){return e.files[t].async("blob").then(function(e){return[s,t,URL.createObjectURL(e)]})});return Promise.all(s)}).then(function(e){return t(e)})})}},{key:"_rar",value:function(e,t){Promise.resolve().then(s.t.bind(null,"./node_modules/unrar-js/lib/Unrar.js",7)).then(function(s){var n=s.default(e).map(function(e,t){return[t,e.filename,URL.createObjectURL(new Blob([e.fileData],{type:"image/jpg"}))]});return t(n)})}},{key:"read",value:function(e,t){var s=this;if("undefined"!=typeof FileReader){if(s.reader.onload=function(e){return t(e)},e.name.endsWith(".cbz")||e.name.endsWith(".zip"))return s._zip(e,t);e.name.endsWith(".cbr")||e.name.endsWith(".rar")?(s.reader.onload=function(e){return s._rar(e.target.result,t)},s.reader.readAsArrayBuffer(e)):e.type.includes("image")&&s.reader.readAsDataURL(e)}}}]),e}();function f(e){return function(e){if(Array.isArray(e)){for(var t=0,s=new Array(e.length);t<e.length;t++)s[t]=e[t];return s}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function m(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var v=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.storage=window.localStorage}return function(e,t,s){t&&m(e.prototype,t),s&&m(e,s)}(e,[{key:"get",value:function(e){var t=this.storage.getItem(e);return this._isJSON(t)?JSON.parse(t):t}},{key:"set",value:function(e,t){var s=this._isJSON(t)?JSON.stringify([t]):t;this.storage.setItem(e,s)}},{key:"update",value:function(e,t){var s=this.get(e),n=this._isJSON(s)?f(s).concat([t]):t;this.set(e,n)}},{key:"_isJSON",value:function(e){try{var t=JSON.parse(e);if("Object"!==Object.prototype.toString.call(t).slice(8,-1))return!1}catch(e){return!1}}}]),e}(),g=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"reader",class:{adapt:e.width}},[s("carousel",{attrs:{src:e.src,index:e.index},on:{scrolled:e.setIndex}}),e._v(" "),s("footer-element",{attrs:{src:e.src,index:e.index},on:{clicked:e.setIndex}}),e._v(" "),s("toaster",{attrs:{message:e.toaster_message,time:e.toaster_time}})],1)};g._withStripped=!0;var h=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("footer",{class:{open:e.src}},[s("nav",e._l(e.src,function(t){return s("li",{key:t[0],on:{click:e.onclick,onTap:e.onclick}},[s("a",{class:{active:e.index==t[0]},style:{"background-image":"url("+t[2]+")"},attrs:{href:t[2],index:t[0],alt:t[1]}},[s("span",[e._v(e._s(t[0]))])])])}))])};h._withStripped=!0;var y={props:["src","index"],methods:{onclick:function(e){this.$emit("clicked",e.target),e.preventDefault()}}},_=(s("./src/components/Footer/styles.css?vue&type=style&index=0&id=30c2788e&scoped=true&lang=css&"),Object(i.a)(y,h,[],!1,null,"30c2788e",null));_.options.__file="src/components/Footer/index.vue";var x=_.exports,b=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{directives:[{name:"touch",rawName:"v-touch:swipe",value:e.handleScroll,expression:"handleScroll",arg:"swipe"}],staticClass:"carousel",on:{scroll:e.handleScroll}},e._l(e.src,function(t){return s("div",{key:t[0],staticClass:"carousel-item"},[s("img",{class:{active:e.index==t[0],toRight:e.index<t[0],toLeft:e.index>t[0]},attrs:{src:t[2],alt:t[1],index:t[0]}})])}))};function j(e){return function(e){if(Array.isArray(e)){for(var t=0,s=new Array(e.length);t<e.length;t++)s[t]=e[t];return s}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}b._withStripped=!0;var w={props:["src","index"],data:function(){return{scrolling:-1}},watch:{index:function(e,t){document.querySelector('[index="'+e+'"]').parentElement.scrollIntoView({behavior:"smooth"})}},methods:{handleScroll:function(e){var t=this,s=document.querySelector('[index="'+this.index+'"]').parentElement;-1!=this.scrolling&&clearTimeout(this.scrolling),this.scrolling=window.setTimeout(function(){var e=j(s.parentElement.querySelectorAll(s.nodeName)).find(function(e){return e.getBoundingClientRect().left>=0}),n=e.getBoundingClientRect().x,r=e.previousSibling.getBoundingClientRect().x;if(n>0&&n<=window.innerWidth/2)e.scrollIntoView({behavior:"smooth"}),t.$emit("scrolled",e.querySelector("img"));else if(r<0&&r>-window.innerWidth/2){var o=e.previousSibling;o.scrollIntoView({behavior:"smooth"}),t.$emit("scrolled",o.querySelector("img"))}},200)}}},O=(s("./src/components/Carousel/styles.css?vue&type=style&index=0&id=4b01ec13&scoped=true&lang=css&"),Object(i.a)(w,b,[],!1,null,"4b01ec13",null));O.options.__file="src/components/Carousel/index.vue";var S=O.exports,k=function(){var e=this.$createElement,t=this._self._c||e;return this.active?t("div",{staticClass:"toast"},[t("a",{staticClass:"close",attrs:{href:"#"},on:{click:this.close}},[t("span",[this._v("Close")])]),this._v(" "),t("div",{staticClass:"message",domProps:{innerHTML:this._s(this.message)}})]):this._e()};k._withStripped=!0;var D={props:["message","time"],data:function(){return{active:!1}},mounted:function(){var e=this;setTimeout(function(){e.active=!1}),this.time}},P=(s("./src/components/Toast/index.css?vue&type=style&index=0&id=e378782c&scoped=true&lang=css&"),Object(i.a)(D,k,[],!1,null,"e378782c",null));P.options.__file="src/components/Toast/index.vue";var C={props:["src"],data:function(){return{index:0,width:!1,toaster_message:"",toaster_time:0}},components:{carousel:S,"footer-element":x,toaster:P.exports},methods:{setIndex:function(e){this.index=e.getAttribute("index")},plusIndex:function(){this.index=this.index++},minusIndex:function(){this.index=this.index--},popup:function(e,t){this.toaster_message=e,this.toaster_time=t}},mounted:function(){var e=this;!function(e,t,s){e.attachEvent?e.attachEvent("on"+t,s):e.addEventListener(t,s,!1)}(window,"keyup",function(t){var s=0;switch(t.keyCode){case 37:s=-1;break;case 39:s=1;break;case 87:e.width=!e.width}188==t.keyCode&&t.shiftKey&&(e.popup("<p>Testing</p>",3e3),console.log(e.toaster_message,e.toaster_time)),e.index=Math.max(0,parseInt(e.index)+s)})}},L=(s("./src/components/Reader/styles.css?vue&type=style&index=0&lang=css&"),Object(i.a)(C,g,[],!1,null,null,null));L.options.__file="src/components/Reader/index.vue";var E=L.exports,T=(window.require("electron").ipcRenderer,new p),A=new v,R={data:function(){return{dropped:!1,dragging:!1,src:""}},components:{"image-elem":E},methods:{onDrop:function(e){for(var t=[],s=this,n=void 0!==e.dataTransfer?e.dataTransfer.files:e.target.files,r=0;r<n.length;r++)t.push(n[r]);if(null===A.get("dropZone"))A.set("dropZone",t);else{A.get("dropZone");t.forEach(function(e){T.read(e,function(e){s.src=e})})}e.preventDefault(),this.dragging=!1,this.dropped=!0},onDragEnter:function(e){this.dragging=!0,e.preventDefault()},onDragLeave:function(e){e.preventDefault(),this.dragging=!1},onDragOver:function(e){e.preventDefault()}}},z=(s("./src/components/Dropzone/styles.css?vue&type=style&index=0&id=0248200e&scoped=true&lang=css&"),Object(i.a)(R,d,[],!1,null,"0248200e",null));z.options.__file="src/components/Dropzone/index.vue";var I=z.exports;n.a.use(l.a);var N=new l.a({routes:[{path:"/",name:"Dropzone",component:I}]}),$=s("./node_modules/vue2-touch-events/index.js"),F=s.n($);s("./src/css/master.css");n.a.use(F.a),new n.a({el:"#app",router:N,render:function(e){return e(c)}})}});